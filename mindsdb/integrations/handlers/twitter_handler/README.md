# Twitter Handler

This is the implementation of the Twitter handler for MindsDB.

## Twitter
Twitter is a microblogging platform and it has huge user base and large volumes of data generated by its users every day
In this handler, twitter 2.x api is used and more information about this api can be found (here)[https://developer.twitter.com/en/docs/twitter-api/tweets/lookup/api-reference/get-tweets]


## Implementation
This handler was implemented using `duckdb`, a library that allows SQL queries to be executed on `pandas` DataFrames.

In essence, when querying a particular table, the entire table will first be pulled into a `pandas` DataFrame using the InfluxDB API. Once this is done, SQL queries can be run on the DataFrame using `duckdb`.

Note: Since the entire table needs to be pulled into memory first (DataFrame), it is recommended to be somewhat careful when querying large tables so as not to overload your machine.

The required arguments to establish a connection are,
* `twitter_user_name`  : user name of the twitter handle you want to extract tweets from
* `twitter_api_token`: Authentication token for accessing the twitter api end-point
* `tweets_start_time`: start time field for querying tweets
* `tweets_start_time`: end time field for querying tweets
* `twitter_endpoint_name`: Table name of the influxdb cloud instance

## Usage
In order to make use of this handler and connect to an Twitter endpoint /tweets in MindsDB, the following syntax can be used,
~~~~sql
CREATE DATABASE twitter_source
WITH
engine='twitter',
parameters={
    "twitter_user_name": "elonmusk",
    "twitter_api_token": "AAAAAAAAAAAAAAAAAAAAAKkrbgEAAAAARPWLaxlFo0vUOGavorPuTCzk1lM%3D2GJWOiEM15n5csdO42sm244kzyw9I0jIXEYxt6HmR7H3ZAcGXA",
    "tweets_start_time": "2023-01-01T10:00:50Z",
    "tweets_end_time": "2023-02-01T10:00:50Z",
    "twitter_endpoint_name": "tweets"
};
~~~~

Now, you can use this established connection to query your table as follows,
~~~~sql
SELECT * FROM twitter_source.example_tbl
~~~~

At the moment, only `SELECT` queries are allowed to be executed through `duckdb`. This, however, has no restriction on running machine learning algorithms against your data in InfluxDB using `CREATE PREDICTOR` statements.
